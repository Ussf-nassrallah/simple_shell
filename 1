#include "main.h"

/**
 * main - the starting point for program execution
 * @argc: number of arguments
 * @argv: array of arguments
 * @env: environment variables
 * Return: Always 0
 */

int main(int argc, char *argv[])
{
	char *prompt = "#cisfun$ ";
	char *command_line;
	size_t len = 0;
	size_t read;
	char *slice;
	int status;
	int index = 0;
	int **output;
	pid_t pid;
	(void) argv;

	while (1)
	{
		write(1, prompt, _strlen(prompt));
		read = getline(&command_line, &len, stdin);
		output = malloc(sizeof(char *) * 1024);
		slice = strtok(command_line, " /t/n");

		while (slice)
		{
			output[index] = slice;
			slice = strtok(NULL, " /t/n");
			index++;
		}
		output[index] = NULL;

		pid = fork();

		if (pid == 0)
		{
			if (execve(output[0], output, NULL) == -1)
				perror("./shell");
		}
		else
			wait(&status);
		index = 0;
		free(output);
	}
}
